<IfModule mod_rewrite.c>
    RewriteEngine On

    # Serve static files stored in /public
    RewriteCond %{REQUEST_URI} !^/public/
    RewriteCond %{DOCUMENT_ROOT}/public%{REQUEST_URI} -f
    RewriteRule ^ public%{REQUEST_URI} [L]

    RewriteCond %{REQUEST_URI} !^/public/
    RewriteCond %{DOCUMENT_ROOT}/public%{REQUEST_URI} -d
    RewriteRule ^ public%{REQUEST_URI}/ [L]

    # Let existing root files/directories through
    RewriteCond %{REQUEST_FILENAME} -f [OR]
    RewriteCond %{REQUEST_FILENAME} -d
    RewriteRule ^ - [L]

    # Everything else handled by front controller in /public
    RewriteRule ^ public/index.php [QSA,L]
</IfModule>
